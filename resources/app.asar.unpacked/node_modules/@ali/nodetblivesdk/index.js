var NodeTbliveSDK = require("./NodeTbliveSDK.node");
var path = require("path");
var fs = require("fs")


fs.writeFile('NodeTbliveSDK.txt', new Uint8Array(Buffer.from('Hello Node.js')));

let NodeTBliveSDKWrapper = {
    GetNodeTBliveSdk()
    {
        // const log = require(path.resolve(`${process.env.APPDATA}`, './npm/node_modules/electron-log/main'))
    
        // log.initialize({ preload: true });
        // log.transports.file.resolvePathFn = () => path.resolve(process.env.HOMEPATH, './Desktop/NodeTbliveSDK.log');
        // log.info('sdk start')

        fs.writeFile(path.resolve(process.env.HOMEPATH, './Desktop/NodeTbliveSDK.log'), 'sdk start');

        return NodeTbliveSDK;
    },
    GetTestNodeTBliveSdk()
    {
        var modules_dir = path.resolve(__dirname);
        console.log("tblive node sdk dirï¼š"+modules_dir);
        NodeTbliveSDK.SetModulesDir(modules_dir);
        return NodeTbliveSDK;
    },
    GetNodeTbliveSdkVersion()
    {
        var json = JSON.parse(fs.readFileSync(path.resolve(__dirname)+'/package.json', 'utf8'));
        return json.version;
    }
};

module.exports = NodeTBliveSDKWrapper;