uniform sampler2D     	base;
uniform sampler2D     	blend;
uniform float			intensity;
varying vec2 UV;
void main()
{
    vec2 texuv = UV;
    vec4 vBaseColor = texture2D(base, texuv);
    vec4 vBlendColor = texture2D(blend, texuv);
    vec3 color = blendFunction(vBaseColor, vBlendColor);
    color = mix(vBaseColor.rgb, color, vBlendColor.a);
    color = mix(vBaseColor.rgb, color, intensity);
    gl_FragColor = vec4(color, 1.0);
}