(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{164:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Log=t.setPrintLog=t.InstanceMode=t.IPCChannel=void 0,function(e){e.CurrentSessionCookiesOpr="IPC_ELECTRON_MTOP_CURRENT_SESSION_COOKIES_OPR",e.DefaultSessionCookiesOpr="IPC_ELECTRON_MTOP_DEFAULT_SESSION_COOKIES_OPR",e.DefaultSessionWebRequestOnResponseStarted="IPC_ELECTRON_MTOP_DEFAULT_SESSION_WEB_REQUEST_ON_RESPONSE_STARTED",e.AddRequestOriginHeader="IPC_ELECTRON_MTOP_ADD_REQUEST_ORIGIN_HEADER"}(t.IPCChannel||(t.IPCChannel={})),function(e){e.Preload="Preload",e.Remote="Remote"}(t.InstanceMode||(t.InstanceMode={}));let o=!1;t.setPrintLog=function(e){void 0!==e&&(o=e)},t.Log=function(...e){o&&console.log.apply(console,e)}},250:function(e,t,n){"use strict";const o=n(46),i=n(60),r=n(165);t.loadJSONSync=function(e){var t=o.readFileSync(e,"utf8");65279===t.charCodeAt(0)&&(t=t.slice(1));try{return JSON.parse(t)}catch(t){throw t.message=e+": "+t.message,t}},t.encode=function(e,t){return"string"!=typeof e&&(e=""+e),Buffer.from(e,t)},t.makeHasher=function(e){return function(t,n){var o=r.createHash(e);return o.update(t),o.digest(n)}},t.createHash=t.makeHasher,t.md5=t.makeHasher("md5"),t.createHmac=function(e){return function(t,n,o){return r.createHmac(e,n).update(t).digest(o)}},t.sha1=t.createHmac("sha1"),t.random=function(e,t){return Math.floor(e+Math.random()*(t-e))},t.makeNonce=function(){var e,n=0;const o=i.hostname(),r=process.pid;return function(){var i=Math.floor(1e12*Math.random());i===e?n++:n=0,e=i;var s=`${o}${r}${i}${n}`;return t.md5(s,"hex")}}(),t.pad2=function(e){return e<10?"0"+e:""+e},t.pad3=function(e){return e<10?"00"+e:e<100?"0"+e:""+e},t.getYYYYMMDD=function(e){return""+e.getFullYear()+t.pad2(e.getMonth()+1)+t.pad2(e.getDate())},t.sleep=function(e){return new Promise(t=>{setTimeout(t,e)})},t.getIPv4=function(){for(var e=i.networkInterfaces(),t=Object.keys(e),n=0;n<t.length;n++)for(var o=e[t[n]],r=0;r<o.length;r++){var s=o[r];if(!s.internal&&"IPv4"===s.family)return s.address}return""},t.getMac=function(){for(var e=i.networkInterfaces(),t=Object.keys(e),n=0;n<t.length;n++)for(var o=e[t[n]],r=0;r<o.length;r++){var s=o[r];if(!s.internal&&"IPv4"===s.family)return s.mac}return"00:00:00:00:00:00"},t.readAll=function(e){return new Promise((t,n)=>{var o,i,r,s=function(t){e.removeListener("error",o),e.removeListener("data",i),e.removeListener("end",r)},a=[],u=0;i=function(e){a.push(e),u+=e.length},o=function(e){s(),n(e)},r=function(){s(),t(Buffer.concat(a,u))},e.on("error",o),e.on("data",i),e.on("end",r)})}},446:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(16);o.contextBridge.exposeInMainWorld("electronMTop",{sendSync:function(e,...t){return o.ipcRenderer.sendSync(e,...t)}})},447:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.setPrintLog=t.preload=t.mainPersistSessionCookies=t.getMTopInstanceInRenderer=t.preloadInject=t.getMTopInRenderer=t.mainInject=void 0;const r=n(164);function s(){return n(578)}function a(){return n(579),n(580).default}function u(){return n(446)}function c(e){return(0,n(582).default)(e)}t.mainInject=s,t.getMTopInRenderer=a,t.preloadInject=u,t.getMTopInstanceInRenderer=(()=>{let e=null;return t=>{if(e)return e;const n=a();return e=new n(t),e}})(),t.mainPersistSessionCookies=c,t.preload={get:()=>n(446)};var d=n(164);Object.defineProperty(t,"setPrintLog",{enumerable:!0,get:function(){return d.setPrintLog}}),t.default={setPrintLog:r.setPrintLog,mainInject:s,mainPersistSessionCookies:c,preloadInject:u,getMTopInRenderer:a,getMTopInstanceInRenderer:t.getMTopInstanceInRenderer,get main(){return s()},get renderer(){return a()},get instanceInRenderer(){return(0,t.getMTopInstanceInRenderer)(r.InstanceMode.Preload)},get instanceInRendererWithRemote(){return(0,t.getMTopInstanceInRenderer)(r.InstanceMode.Remote)}},i(n(164),t)},578:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;const o=n(16),i=n(168),r=n(164),s=new Map;function a(){(0,r.Log)("[ElectronMTop] main-inject init."),o.ipcMain.on(r.IPCChannel.CurrentSessionCookiesOpr,(e,t,...n)=>{e.sender.session.cookies[t](...n).then(t=>{e.returnValue=t})}),o.ipcMain.on(r.IPCChannel.DefaultSessionCookiesOpr,(e,t,...n)=>{o.session.defaultSession.cookies[t](...n).then(t=>{e.returnValue=t})}),o.ipcMain.on(r.IPCChannel.DefaultSessionWebRequestOnResponseStarted,(e,t)=>{(0,r.Log)("[DefaultSessionWebRequestOnResponseStarted] filter:",t),e.returnValue=function(e,t){return(0,r.Log)("[onResponseStarted] filter:",t),!s.get(e.sender)&&(s.set(e.sender,!0),e.sender.session.webRequest.onResponseStarted(t,t=>{const n=i.omit(t,["webContents","frame"]);e.sender.executeJavaScript(`window.electronMTop.onDefaultSessionResponseStartedCallback(${JSON.stringify(n)})`)}),!0)}(e,t)}),o.ipcMain.on(r.IPCChannel.AddRequestOriginHeader,(e,t,n)=>{e.sender.session.webRequest.onBeforeSendHeaders(t,(e,t)=>{e.requestHeaders.Origin="https://"+n,e.requestHeaders.Referer=`https://${n}/`,(0,r.Log)("[ElectronMTop] - onBeforeSendHeaders HOOK url: "+e.url),t({cancel:!1,requestHeaders:e.requestHeaders})}),e.returnValue=!0})}t.init=a,a()},579:function(e,t){"undefined"==typeof window&&(window={ctrl:{},lib:{}}),!window.ctrl&&(window.ctrl={}),!window.lib&&(window.lib={}),function(e,t){function n(){var e={},t=new p((function(t,n){e.resolve=t,e.reject=n}));return e.promise=t,e}function o(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}function i(e){(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(e)}function r(){if(window.etSign)window.__etReady=!0;else{window.etReady=function(){window.__etReady=!0};var e=document.createElement("script");e.id="aplus-sufei",e.src="//g.alicdn.com/secdev/entry/index.js",i(e)}}function s(e){var t=[];for(var n in e)e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function a(e){return"[object Object]"=={}.toString.call(e)}function u(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}function c(e,t,n){var o=new Date;o.setTime(o.getTime()-864e5);document.cookie=e+"=;path=/;domain=."+t+";expires="+o.toGMTString(),document.cookie=e+"=;path=/;domain=."+n+"."+t+";expires="+o.toGMTString()}function d(e,t){for(var n=e.split("."),o=t.split("."),i=0;3>i;i++){var r=Number(n[i]),s=Number(o[i]);if(r>s)return 1;if(s>r)return-1;if(!isNaN(r)&&isNaN(s))return 1;if(isNaN(r)&&!isNaN(s))return-1}return 0}function l(e){this.id=""+(new Date).getTime()+ ++w,this.params=o(e||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==typeof this.params.data&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=m.slice(0)}var p=e.Promise,f=(p||{resolve:function(){}}).resolve();String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var g={useJsonpResultType:!1,safariGoLogin:!0,useAlipayJSBridge:!1},m=[],h={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};(function(){var t=e.location.hostname;if(!t){var n=e.parent.location.hostname;n&&~n.indexOf("zebra.alibaba-inc.com")&&(t=n)}var o=new RegExp("([^.]*?)\\.?((?:"+["taobao.net","taobao.com","tmall.com","tmall.hk","alibaba-inc.com"].join(")|(?:").replace(/\./g,"\\.")+"))","i"),i=t.match(o)||[],r=i[2]||"taobao.com",s=i[1]||"m";"taobao.net"!==r||"x"!==s&&"waptest"!==s&&"daily"!==s?"taobao.net"===r&&"demo"===s?s="demo":"alibaba-inc.com"===r&&"zebra"===s?s="zebra":"waptest"!==s&&"wapa"!==s&&"m"!==s&&(s="m"):s="waptest";var a="h5api";"taobao.net"===r&&"waptest"===s&&(a="acs"),g.mainDomain=r,g.subDomain=s,g.prefix=a})(),function(){var t=e.navigator.userAgent,n=t.match(/WindVane[\/\s]([\d\.\_]+)/);n&&(g.WindVaneVersion=n[1]);var o=t.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);o&&(g.AliAppName=o[1],g.AliAppVersion=o[2]);var i=t.match(/AMapClient\/([\d\.\_]+)/i);i&&(g.AliAppName="AMAP",g.AliAppVersion=i[1])}();var v=/[Android|Adr]/.test(e.navigator.userAgent),_="AP"===g.AliAppName&&d(g.AliAppVersion,"10.1.2")>=0||"KB"===g.AliAppName&&d(g.AliAppVersion,"7.1.62")>=0||v&&"AMAP"===g.AliAppName&&d(g.AliAppVersion,"1.0.1")>=0,w=0;l.prototype.use=function(e){if(!e)throw new Error("middleware is undefined");return this.middlewares.push(e),this},l.prototype.__processRequestMethod=function(e){var t=this.params,n=this.options;"get"===t.type&&"jsonp"===t.dataType?n.getJSONP=!0:"get"===t.type&&"originaljsonp"===t.dataType?n.getOriginalJSONP=!0:"get"===t.type&&"json"===t.dataType?n.getJSON=!0:"post"===t.type&&(n.postJSON=!0),e()},l.prototype.__processRequestType=function(n){var o=this,i=this.params,r=this.options;if(!0===g.H5Request&&(r.H5Request=!0),!0===g.WindVaneRequest&&(r.WindVaneRequest=!0),!1===r.H5Request&&!0===r.WindVaneRequest){if(!_&&(!t.windvane||parseFloat(r.WindVaneVersion)<5.4))throw new Error("WINDVANE_NOT_FOUND::缺少WindVane环境");if(_&&!e.AlipayJSBridge)throw new Error("ALIPAY_NOT_READY::支付宝通道未准备好，支付宝请见 https://lark.alipay.com/mtbsdkdocs/mtopjssdkdocs/pucq6z")}else if(!0===r.H5Request)r.WindVaneRequest=!1;else if(void 0===r.WindVaneRequest&&void 0===r.H5Request){if(t.windvane&&parseFloat(r.WindVaneVersion)>=5.4?r.WindVaneRequest=!0:r.H5Request=!0,_){if(r.WindVaneRequest=r.H5Request=void 0,e.AlipayJSBridge)if(a(i.data))r.WindVaneRequest=!0;else try{a(JSON.parse(i.data))?r.WindVaneRequest=!0:r.H5Request=!0}catch(e){r.H5Request=!0}else r.H5Request=!0;"AMAP"!==g.AliAppName||i.useNebulaJSbridgeWithAMAP||(r.WindVaneRequest=r.H5Request=void 0,r.H5Request=!0)}window.self!==window.top&&(r.H5Request=!0)}var s=e.navigator.userAgent.toLowerCase();return s.indexOf("youku")>-1&&r.mainDomain.indexOf("youku.com")<0&&(r.WindVaneRequest=!1,r.H5Request=!0),r.mainDomain.indexOf("youku.com")>-1&&s.indexOf("youku")<0&&(r.WindVaneRequest=!1,r.H5Request=!0),n?n().then((function(){var e=r.retJson.ret;if(e instanceof Array&&(e=e.join(",")),!0===r.WindVaneRequest&&_&&r.retJson.error||!e||e.indexOf("PARAM_PARSE_ERROR")>-1||e.indexOf("HY_FAILED")>-1||e.indexOf("HY_NO_HANDLER")>-1||e.indexOf("HY_CLOSED")>-1||e.indexOf("HY_EXCEPTION")>-1||e.indexOf("HY_NO_PERMISSION")>-1){if(!_||!isNaN(r.retJson.error)||-1!==r.retJson.error.indexOf("FAIL_SYS_ACCESS_DENIED"))return _&&a(i.data)&&(i.data=JSON.stringify(i.data)),g.H5Request=!0,o.__sequence([o.__processRequestType,o.__processToken,o.__processRequestUrl,o.middlewares,o.__processRequest]);void 0===r.retJson.api&&void 0===r.retJson.v&&(r.retJson.api=i.api,r.retJson.v=i.v,r.retJson.ret=[r.retJson.error+"::"+r.retJson.errorMessage],r.retJson.data={})}})):void 0};var y="_m_h5_c",S="_m_h5_tk";l.prototype.__getTokenFromAlipay=function(){var t=n(),o=this.options,i=(e.navigator.userAgent,!!location.protocol.match(/^https?\:$/));return!0===o.useAlipayJSBridge&&!i&&_&&e.AlipayJSBridge&&e.AlipayJSBridge.call?e.AlipayJSBridge.call("getMtopToken",(function(e){e&&e.token&&(o.token=e.token),t.resolve()}),(function(){t.resolve()})):t.resolve(),t.promise},l.prototype.__getTokenFromCookie=function(){var e=this.options;return e.CDR&&u(y)?e.token=u(y).split(";")[0]:e.token=e.token||u(S),e.token&&(e.token=e.token.split("_")[0]),p.resolve()},l.prototype.__waitWKWebViewCookie=function(t){var n=this.options;n.waitWKWebViewCookieFn&&n.H5Request&&e.webkit&&e.webkit.messageHandlers?n.waitWKWebViewCookieFn(t):t()},l.prototype.__processToken=function(e){var t=this,n=this.options;return this.params,n.token&&delete n.token,!0!==n.WindVaneRequest?f.then((function(){return t.__getTokenFromAlipay()})).then((function(){return t.__getTokenFromCookie()})).then(e).then((function(){var e=n.retJson,o=e.ret;if(o instanceof Array&&(o=o.join(",")),o.indexOf("TOKEN_EMPTY")>-1||(!0===n.CDR||!0===n.syncCookieMode)&&o.indexOf("ILLEGAL_ACCESS")>-1||o.indexOf("TOKEN_EXOIRED")>-1){if(n.maxRetryTimes=n.maxRetryTimes||5,n.failTimes=n.failTimes||0,n.H5Request&&++n.failTimes<n.maxRetryTimes){var i=[t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest];if(!0===n.syncCookieMode&&t.constructor.__cookieProcessorId!==t.id)if(t.constructor.__cookieProcessor){i=[function(e){var n=function(){t.constructor.__cookieProcessor=null,t.constructor.__cookieProcessorId=null,e()};t.constructor.__cookieProcessor?t.constructor.__cookieProcessor.then(n).catch(n):e()},t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest]}else t.constructor.__cookieProcessor=t.__requestProcessor,t.constructor.__cookieProcessorId=t.id;return t.__sequence(i)}n.maxRetryTimes>0&&(c(y,n.pageDomain,"*"),c(S,n.mainDomain,n.subDomain),c("_m_h5_tk_enc",n.mainDomain,n.subDomain)),e.retType=h.TOKEN_EXPIRED}})):void e()},l.prototype.__processRequestUrl=function(t){var n=this.params,o=this.options;if(o.hostSetting&&o.hostSetting[e.location.hostname]){var i=o.hostSetting[e.location.hostname];i.prefix&&(o.prefix=i.prefix),i.subDomain&&(o.subDomain=i.subDomain),i.mainDomain&&(o.mainDomain=i.mainDomain)}if(!0===o.H5Request){var s="//"+(o.prefix?o.prefix+".":"")+(o.subDomain?o.subDomain+".":"")+o.mainDomain+"/h5/"+n.api.toLowerCase()+"/"+n.v.toLowerCase()+"/",a=n.appKey||("waptest"===o.subDomain?"4272":"12574478"),u=(new Date).getTime(),c=function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,o,i,r,s;return i=2147483648&e,r=2147483648&t,s=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(o=1073741824&t)?2147483648^s^i^r:n|o?1073741824&s?3221225472^s^i^r:1073741824^s^i^r:s^i^r}function o(e,o,i,r,s,a,u){return e=n(e,n(n(function(e,t,n){return e&t|~e&n}(o,i,r),s),u)),n(t(e,a),o)}function i(e,o,i,r,s,a,u){return e=n(e,n(n(function(e,t,n){return e&n|t&~n}(o,i,r),s),u)),n(t(e,a),o)}function r(e,o,i,r,s,a,u){return e=n(e,n(n(function(e,t,n){return e^t^n}(o,i,r),s),u)),n(t(e,a),o)}function s(e,o,i,r,s,a,u){return e=n(e,n(n(function(e,t,n){return t^(e|~n)}(o,i,r),s),u)),n(t(e,a),o)}function a(e){var t,n="",o="";for(t=0;3>=t;t++)n+=(o="0"+(e>>>8*t&255).toString(16)).substr(o.length-2,2);return n}var u,c,d,l,p,f,g,m,h,v;for(v=function(e){for(var t,n=e.length,o=n+8,i=16*((o-o%64)/64+1),r=new Array(i-1),s=0,a=0;n>a;)s=a%4*8,r[t=(a-a%4)/4]=r[t]|e.charCodeAt(a)<<s,a++;return s=a%4*8,r[t=(a-a%4)/4]=r[t]|128<<s,r[i-2]=n<<3,r[i-1]=n>>>29,r}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);128>o?t+=String.fromCharCode(o):o>127&&2048>o?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t}(e)),f=1732584193,g=4023233417,m=2562383102,h=271733878,u=0;u<v.length;u+=16)c=f,d=g,l=m,p=h,f=o(f,g,m,h,v[u+0],7,3614090360),h=o(h,f,g,m,v[u+1],12,3905402710),m=o(m,h,f,g,v[u+2],17,606105819),g=o(g,m,h,f,v[u+3],22,3250441966),f=o(f,g,m,h,v[u+4],7,4118548399),h=o(h,f,g,m,v[u+5],12,1200080426),m=o(m,h,f,g,v[u+6],17,2821735955),g=o(g,m,h,f,v[u+7],22,4249261313),f=o(f,g,m,h,v[u+8],7,1770035416),h=o(h,f,g,m,v[u+9],12,2336552879),m=o(m,h,f,g,v[u+10],17,4294925233),g=o(g,m,h,f,v[u+11],22,2304563134),f=o(f,g,m,h,v[u+12],7,1804603682),h=o(h,f,g,m,v[u+13],12,4254626195),m=o(m,h,f,g,v[u+14],17,2792965006),f=i(f,g=o(g,m,h,f,v[u+15],22,1236535329),m,h,v[u+1],5,4129170786),h=i(h,f,g,m,v[u+6],9,3225465664),m=i(m,h,f,g,v[u+11],14,643717713),g=i(g,m,h,f,v[u+0],20,3921069994),f=i(f,g,m,h,v[u+5],5,3593408605),h=i(h,f,g,m,v[u+10],9,38016083),m=i(m,h,f,g,v[u+15],14,3634488961),g=i(g,m,h,f,v[u+4],20,3889429448),f=i(f,g,m,h,v[u+9],5,568446438),h=i(h,f,g,m,v[u+14],9,3275163606),m=i(m,h,f,g,v[u+3],14,4107603335),g=i(g,m,h,f,v[u+8],20,1163531501),f=i(f,g,m,h,v[u+13],5,2850285829),h=i(h,f,g,m,v[u+2],9,4243563512),m=i(m,h,f,g,v[u+7],14,1735328473),f=r(f,g=i(g,m,h,f,v[u+12],20,2368359562),m,h,v[u+5],4,4294588738),h=r(h,f,g,m,v[u+8],11,2272392833),m=r(m,h,f,g,v[u+11],16,1839030562),g=r(g,m,h,f,v[u+14],23,4259657740),f=r(f,g,m,h,v[u+1],4,2763975236),h=r(h,f,g,m,v[u+4],11,1272893353),m=r(m,h,f,g,v[u+7],16,4139469664),g=r(g,m,h,f,v[u+10],23,3200236656),f=r(f,g,m,h,v[u+13],4,681279174),h=r(h,f,g,m,v[u+0],11,3936430074),m=r(m,h,f,g,v[u+3],16,3572445317),g=r(g,m,h,f,v[u+6],23,76029189),f=r(f,g,m,h,v[u+9],4,3654602809),h=r(h,f,g,m,v[u+12],11,3873151461),m=r(m,h,f,g,v[u+15],16,530742520),f=s(f,g=r(g,m,h,f,v[u+2],23,3299628645),m,h,v[u+0],6,4096336452),h=s(h,f,g,m,v[u+7],10,1126891415),m=s(m,h,f,g,v[u+14],15,2878612391),g=s(g,m,h,f,v[u+5],21,4237533241),f=s(f,g,m,h,v[u+12],6,1700485571),h=s(h,f,g,m,v[u+3],10,2399980690),m=s(m,h,f,g,v[u+10],15,4293915773),g=s(g,m,h,f,v[u+1],21,2240044497),f=s(f,g,m,h,v[u+8],6,1873313359),h=s(h,f,g,m,v[u+15],10,4264355552),m=s(m,h,f,g,v[u+6],15,2734768916),g=s(g,m,h,f,v[u+13],21,1309151649),f=s(f,g,m,h,v[u+4],6,4149444226),h=s(h,f,g,m,v[u+11],10,3174756917),m=s(m,h,f,g,v[u+2],15,718787259),g=s(g,m,h,f,v[u+9],21,3951481745),f=n(f,c),g=n(g,d),m=n(m,l),h=n(h,p);return(a(f)+a(g)+a(m)+a(h)).toLowerCase()}(o.token+"&"+u+"&"+a+"&"+n.data),d={jsv:"2.7.0",appKey:a,t:u,sign:c},l={data:n.data,ua:n.ua};Object.keys(n).forEach((function(e){void 0===d[e]&&void 0===l[e]&&"headers"!==e&&"ext_headers"!==e&&"ext_querys"!==e&&(d[e]=n[e])})),n.ext_querys&&Object.keys(n.ext_querys).forEach((function(e){d[e]=n.ext_querys[e]})),o.getJSONP?d.type="jsonp":o.getOriginalJSONP?d.type="originaljsonp":(o.getJSON||o.postJSON)&&(d.type="originaljson"),void 0!==n.valueType&&("original"===n.valueType?o.getJSONP||o.getOriginalJSONP?d.type="originaljsonp":(o.getJSON||o.postJSON)&&(d.type="originaljson"):"string"===n.valueType&&(o.getJSONP||o.getOriginalJSONP?d.type="jsonp":(o.getJSON||o.postJSON)&&(d.type="json"))),!0===o.useJsonpResultType&&"originaljson"===d.type&&delete d.type,o.dangerouslySetProtocol&&(s=o.dangerouslySetProtocol+":"+s),"5.0"===n.SV&&(s+="5.0/",r()),o.querystring=d,o.postdata=l,o.path=s}t()},l.prototype.__processUnitPrefix=function(e){e()};var O=0;l.prototype.__requestJSONP=function(e){function t(e){if(d&&clearTimeout(d),l.parentNode&&l.parentNode.removeChild(l),"TIMEOUT"===e)window[c]=function(){window[c]=void 0;try{delete window[c]}catch(e){}};else{window[c]=void 0;try{delete window[c]}catch(e){}}}var o=n(),r=this.params,a=this.options,u=r.timeout||2e4,c="mtopjsonp"+(r.jsonpIncPrefix||"")+ ++O,d=setTimeout((function(){e(a.timeoutErrMsg||"TIMEOUT::接口超时"),t("TIMEOUT")}),u);a.querystring.callback=c;var l=document.createElement("script"),p=a.path+"?"+s(a.querystring)+"&"+s(a.postdata);return"5.0"===r.SV&&window.etSign&&(p+="&bx_et="+window.etSign(p)),l.src=p,l.async=!0,l.onerror=function(){t("ABORT"),e(a.abortErrMsg||"ABORT::接口异常退出")},window[c]=function(){a.results=Array.prototype.slice.call(arguments),t(),o.resolve()},i(l),o.promise},l.prototype.__requestJSON=function(t){function o(e){l&&clearTimeout(l),"TIMEOUT"===e&&c.abort()}var i=n(),r=this.params,a=this.options,c=new e.XMLHttpRequest,d=r.timeout||2e4,l=setTimeout((function(){t(a.timeoutErrMsg||"TIMEOUT::接口超时"),o("TIMEOUT")}),d);a.CDR&&u(y)&&(a.querystring.c=decodeURIComponent(u(y))),c.onreadystatechange=function(){if(4==c.readyState){var e,n,r=c.status;if(r>=200&&300>r||304==r){o(),e=c.responseText,n=c.getAllResponseHeaders()||"";try{(e=/^\s*$/.test(e)?{}:JSON.parse(e)).responseHeaders=n,a.results=[e],i.resolve()}catch(e){t("PARSE_JSON_ERROR::解析JSON失败")}}else o("ABORT"),t(a.abortErrMsg||"ABORT::接口异常退出")}};var p,f,g=a.path+"?"+s(a.querystring);a.getJSON?(p="GET",g+="&"+s(a.postdata)):a.postJSON&&(p="POST",f=s(a.postdata)),"5.0"===r.SV&&window.etSign&&(g+="&bx_et="+window.etSign(g)),c.open(p,g,!0),c.withCredentials=!0,c.setRequestHeader("Accept","application/json"),c.setRequestHeader("Content-type","application/x-www-form-urlencoded");var m=r.ext_headers||r.headers;if(m)for(var h in m)c.setRequestHeader(h,m[h]);return c.send(f),i.promise},l.prototype.__requestWindVane=function(e){function o(e){s.results=[e],i.resolve()}var i=n(),r=this.params,s=this.options,a=r.data,u=r.api,c=r.v,d=s.postJSON?1:0,l=s.getJSON||s.postJSON||s.getOriginalJSONP?"originaljson":"";void 0!==r.valueType&&("original"===r.valueType?l="originaljson":"string"===r.valueType&&(l="")),!0===s.useJsonpResultType&&(l="");var p,f,g="https"===location.protocol?1:0,m=r.isSec||0,h=r.sessionOption||"AutoLoginOnly",v=r.ecode||0,_=r.ext_headers||{},w=r.ext_querys||{};p=2*(f=void 0!==r.timer?parseInt(r.timer):void 0!==r.timeout?parseInt(r.timeout):2e4),!0===r.needLogin&&void 0===r.sessionOption&&(h="AutoLoginAndManualLogin"),void 0!==r.secType&&void 0===r.isSec&&(m=r.secType);var y={api:u,v:c,post:String(d),type:l,isHttps:String(g),ecode:String(v),isSec:String(m),param:JSON.parse(a),timer:f,needLogin:!!r.needLogin,sessionOption:h,ext_headers:_,ext_querys:w};r.ttid&&!0===s.dangerouslySetWVTtid&&(y.ttid=r.ttid),Object.assign&&r.dangerouslySetWindvaneParams&&Object.assign(y,r.dangerouslySetWindvaneParams);var S="MtopWVPlugin";return"string"==typeof r.customWindVaneClassName&&(S=r.customWindVaneClassName),t.windvane.call(S,"send",y,o,o,p),i.promise},l.prototype.__requestAlipay=function(t){var o=n(),i=this.params,r=this.options,s={apiName:i.api,apiVersion:i.v,needEcodeSign:"1"===String(i.ecode),headers:i.ext_headers||{},usePost:!!r.postJSON};a(i.data)||(i.data=JSON.parse(i.data)),s.data=i.data,i.ttid&&!0===r.dangerouslySetWVTtid&&(s.ttid=i.ttid),(r.getJSON||r.postJSON||r.getOriginalJSONP)&&(s.type="originaljson"),void 0!==i.valueType&&("original"===i.valueType?s.type="originaljson":"string"===i.valueType&&delete s.type),!0===r.useJsonpResultType&&delete s.type,Object.assign&&i.dangerouslySetAlipayParams&&Object.assign(s,i.dangerouslySetAlipayParams);var u="mtop";return"string"==typeof i.customAlipayJSBridgeApi&&(u=i.customAlipayJSBridgeApi),e.AlipayJSBridge.call(u,s,(function(e){r.results=[e],o.resolve()})),o.promise},l.prototype.__processRequest=function(e,t){var n=this;return f.then((function(){var e=n.options;if(e.H5Request&&(e.getJSONP||e.getOriginalJSONP))return n.__requestJSONP(t);if(e.H5Request&&(e.getJSON||e.postJSON))return n.__requestJSON(t);if(e.WindVaneRequest)return _?n.__requestAlipay(t):n.__requestWindVane(t);throw new Error("UNEXCEPT_REQUEST::错误的请求类型")})).then(e).then((function(){var e=n.options,t=(n.params,e.results[0]),o=t&&t.ret||[];t.ret=o,o instanceof Array&&(o=o.join(","));var i=t.c;e.CDR&&i&&function(e,t,n){var o=n||{};document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&/:<-\[\]-}]/g,encodeURIComponent)+(o.domain?";domain="+o.domain:"")+(o.path?";path="+o.path:"")+(o.secure?";secure":"")+(o.httponly?";HttpOnly":"")+(o.sameSite?";Samesite="+o.sameSite:"")}(y,i,{domain:e.pageDomain,path:"/",secure:e.secure,sameSite:e.sameSite}),o.indexOf("SUCCESS")>-1?t.retType=h.SUCCESS:t.retType=h.ERROR,e.retJson=t}))},l.prototype.__sequence=function(e){var t=this,o=[],i=[];e.forEach((function e(r){if(r instanceof Array)r.forEach(e);else{var s,a=n(),u=n();o.push((function(){return a=n(),(s=r.call(t,(function(e){return a.resolve(e),u.promise}),(function(e){return a.reject(e),u.promise})))&&(s=s.catch((function(e){a.reject(e)}))),a.promise})),i.push((function(e){return u.resolve(e),s}))}}));for(var r,s=f;r=o.shift();)s=s.then(r);for(;r=i.pop();)s=s.then(r);return s};var b=function(e){if(!g.EtRequest||window.__etReady||g.AliAppName)e();else{r();var t,n,o=!1;window.etReady=function(){window.__etReady=!0,o||(o=!0,e())};var i=function(){t&&clearInterval(t),n&&clearTimeout(n),o||(o=!0,e())};t=setInterval((function(){try{window.etSign&&(window.__etReady=!0,i()),window.etReady&&!window.__etReady&&(window.etReady=function(){window.__etReady=!0,i()})}catch(e){i()}}),100),n=setTimeout((function(){i()}),2e4)}},R=function(e){e()};l.prototype.request=function(n){var i=this;if(this.options=o(n||{},g),!p){var r="当前浏览器不支持Promise，请在windows对象上挂载Promise对象";throw t.mtop={ERROR:r},new Error(r)}var s=p.resolve([b,R]).then((function(e){var t=e[0],n=e[1];return i.__sequence([t,i.__processRequestMethod,i.__processRequestType,i.__processToken,i.__processRequestUrl,i.middlewares,i.__processRequest,n])})).then((function(){var e=i.options.retJson;return e.retType!==h.SUCCESS?p.reject(e):i.options.successCallback?void i.options.successCallback(e):p.resolve(e)})).catch((function(e){var n;return e instanceof Error?(console.error(e.stack),n={ret:[e.message],stack:[e.stack],retJson:h.ERROR}):n="string"==typeof e?{ret:[e],retJson:h.ERROR}:void 0!==e?e:i.options.retJson,t.mtop.errorListener&&t.mtop.errorListener({api:i.params.api,data:i.params.data,v:i.params.v,retJson:n}),i.options.failureCallback?void i.options.failureCallback(n):p.reject(n)}));return this.__processRequestType(),i.options.H5Request&&(i.constructor.__firstProcessor||(i.constructor.__firstProcessor=s),b=function(e){i.constructor.__firstProcessor.then(e).catch(e)}),("get"===this.params.type&&"json"===this.params.dataType||"post"===this.params.type)&&(n.pageDomain=n.pageDomain||function(e){try{return".com"!==e.substring(e.lastIndexOf("."))?(e.split(".")||[]).length<=3?e:e.split(".").slice(1).join("."):e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}catch(t){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}}(e.location.hostname),n.mainDomain!==n.pageDomain&&(n.maxRetryTimes=4,n.CDR=!0)),this.__requestProcessor=s,s},t.mtop=function(e){return new l(e)},t.mtop.request=function(e,t,n){var o={H5Request:e.H5Request,WindVaneRequest:e.WindVaneRequest,LoginRequest:e.LoginRequest,AntiCreep:e.AntiCreep,AntiFlood:e.AntiFlood,successCallback:t,failureCallback:n||t};return new l(e).request(o)},t.mtop.H5Request=function(e,t,n){var o={H5Request:!0,successCallback:t,failureCallback:n||t};return new l(e).request(o)},t.mtop.middlewares=m,t.mtop.config=g,t.mtop.RESPONSE_TYPE=h,t.mtop.CLASS=l}(window,window.lib||(window.lib={})),function(e,t){function n(e){return e.preventDefault(),!1}function o(t,o){var i=navigator.userAgent.match(/.*(iPhone|iPad|Android|ios|SymbianOS|Windows Phone).*/i),r=i&&o.h5url?o.h5url:o.url,s=o.dialogSize,a=this,u=e.dpr||1,c=document.createElement("div"),d=document.documentElement.getBoundingClientRect(),l=Math.max(d.width,window.innerWidth)/u,p=window.innerHeight/u;c.style.cssText=["-webkit-transform:scale("+u+") translateZ(0)","-ms-transform:scale("+u+") translateZ(0)","transform:scale("+u+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+l+"px","height:"+p+"px","z-index:2147483647","position: fixed","left:0","top:0px","background:"+(l>800?"rgba(0,0,0,.5)":"#FFF"),"display:none"].join(";");var f=document.createElement("div");f.style.cssText=["width:100%","height:52px","background:transparent","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),f.innerText=t;var g=document.createElement("img");g.style.cssText=["display:block","position:absolute","margin-top:15px","right:0","top:0","height:15px","line-height:52px","padding:0 20px","color:#999"].join(";"),g.src="https://gw.alicdn.com/tfs/TB1QZN.CYj1gK0jSZFuXXcrHpXa-200-200.png";var m=document.createElement("iframe");if(m.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),i)f.appendChild(g),c.appendChild(f);else{var h=s&&s.width||"420px",v=s&&s.height||"320px",_=50,w=50,y=24,S=-39;v.indexOf("px")>-1?y-=Number(v.replace("px",""))/2:v.indexOf("%")>-1&&(_-=Number(v.replace("%",""))/2),h.indexOf("px")>-1?S+=Number(h.replace("px",""))/2:h.indexOf("%")>-1&&(w+=Number(h.replace("%",""))/2),g.style.cssText=["position:absolute","width:15px","height:15px","top:"+_+"%","left:"+w+"%","cursor: pointer","border:0","z-index:1","overflow:hidden","margin-top:"+y+"px","margin-left:"+S+"px"].join(";"),c.appendChild(g),m.style.cssText=["position:absolute","top:0px","left:0px","bottom:0px","right:0px","margin:auto","width:"+h,"height:"+v,"border:0","background:#FFF","overflow:hidden","border-radius:18px"].join(";")}c.appendChild(m),c.className="J_MIDDLEWARE_FRAME_WIDGET",document.body.appendChild(c),m.src=r,g.addEventListener("click",(function(){a.hide();var e=document.createEvent("HTMLEvents");e.initEvent("close",!1,!1),c.dispatchEvent(e)}),!1),this.addEventListener=function(){c.addEventListener.apply(c,arguments)},this.removeEventListener=function(){c.removeEventListener.apply(c,arguments)},this.show=function(){document.addEventListener("touchmove",n,!1),c.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",n),window.scrollTo(0,-d.top),c.parentNode&&c.parentNode.removeChild(c)}}if(!t||!t.mtop||t.mtop.ERROR)throw new Error("Mtop 初始化失败！");var i=e.Promise,r=t.mtop.CLASS,s=t.mtop.config,a=t.mtop.RESPONSE_TYPE;t.mtop.middlewares.push((function(e){var n=this,o=this.options,i=this.params;return e().then((function(){var e=o.retJson,r=e.ret,u=navigator.userAgent.toLowerCase(),c=u.indexOf("safari")>-1&&u.indexOf("chrome")<0&&u.indexOf("qqbrowser")<0;if(r instanceof Array&&(r=r.join(",")),(r.indexOf("SESSION_EXPIRED")>-1||r.indexOf("SID_INVALID")>-1||r.indexOf("AUTH_REJECT")>-1||r.indexOf("NEED_LOGIN")>-1)&&(e.retType=a.SESSION_EXPIRED,!o.WindVaneRequest&&(!0===s.LoginRequest||!0===o.LoginRequest||!0===i.needLogin))){if(!t.login)throw new Error("LOGIN_NOT_FOUND::缺少lib.login");if(!0!==o.safariGoLogin||!c||"taobao.com"===o.pageDomain)return t.login.goLoginAsync().then((function(e){return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])})).catch((function(e){throw"CANCEL"===e?new Error("LOGIN_CANCEL::用户取消登录"):new Error("LOGIN_FAILURE::用户登录失败")}));t.login.goLogin()}}))})),t.mtop.loginRequest=function(e,t,n){var o={LoginRequest:!0,H5Request:!0,successCallback:t,failureCallback:n||t};return new r(e).request(o)},t.mtop.antiFloodRequest=function(e,t,n){var o={AntiFlood:!0,successCallback:t,failureCallback:n||t};return new r(e).request(o)},t.mtop.middlewares.push((function(e){var t=this.options;return this.params,!0!==t.H5Request||!0!==s.AntiFlood&&!0!==t.AntiFlood?void e():e().then((function(){var e=t.retJson,n=e.ret;n instanceof Array&&(n=n.join(",")),n.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&e.data.url&&(t.AntiFloodReferer?location.href=e.data.url.replace(/(http_referer=).+/,"$1"+t.AntiFloodReferer):location.href=e.data.url)}))})),t.mtop.antiCreepRequest=function(e,t,n){var o={AntiCreep:!0,successCallback:t,failureCallback:n||t};return new r(e).request(o)},t.mtop.middlewares.push((function(t){var n=this,r=this.options,a=this.params;return!1!==r.AntiCreep&&(r.AntiCreep=!0),!0!==a.forceAntiCreep&&!0!==r.H5Request||!0!==s.AntiCreep&&!0!==r.AntiCreep?void t():t().then((function(){var t=r.retJson,s=t.ret;if(s instanceof Array&&(s=s.join(",")),s.indexOf("CHECKJS_FLAG")>-1&&t.uuid&&t.serid){try{var u=!!window.document._sufei_data2,c=new Image,d="https://fourier.taobao.com/ts?ext=200&uuid="+t.uuid+"&serid="+t.serid+"&sufei="+u;window.location&&location.href&&(d+="&href=="+location.href.substr(0,128)),window.__fyModule&&(d+="&fyModuleLoad="+window.__fyModule.load+"&fyModuleInit="+window.__fyModule.init),window.__umModule&&(d+="&umModuleLoad="+window.__umModule.load+"&umModuleInit="+window.__umModule.init),window.__uabModule&&(d+="&uabModuleLoad="+window.__uabModule.load+"&uabModuleInit="+window.__uabModule.init),window.__ncModule&&(d+="&ncModuleLoad="+window.__ncModule.load+"&ncModuleInit="+window.__ncModule.init),window.__nsModule&&(d+="&nsModuleLoad="+window.__nsModule.load+"&nsModuleInit="+window.__nsModule.init),window.__etModule&&(d+="&etModuleLoad="+window.__etModule.load+"&etModuleInit="+window.__etModule.init),c.src=d,document.body.appendChild(c)}catch(e){console.log(e,"上报异常")}return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}if((s.indexOf("RGV587_ERROR::SM")>-1||s.indexOf("ASSIST_FLAG")>-1)&&t.data.url){var l="_m_h5_smt",p=function(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}(l),f=!1;if(!0===r.saveAntiCreepToken&&p)for(var g in p=JSON.parse(p))a[g]&&(f=!0);if(!0===r.saveAntiCreepToken&&p&&!f){for(var g in p)a[g]=p[g];return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}return new i((function(i,s){function u(){d.removeEventListener("close",u),e.removeEventListener("message",c),s("USER_INPUT_CANCEL::用户取消输入")}function c(t){var o;try{o=JSON.parse(t.data)||{}}catch(e){}if(o&&"child"===o.type){var p;d.removeEventListener("close",u),e.removeEventListener("message",c),d.hide();try{for(var f in"string"==typeof(p=JSON.parse(decodeURIComponent(o.content)))&&(p=JSON.parse(p)),p)a[f]=p[f];!0===r.saveAntiCreepToken?(document.cookie=l+"="+JSON.stringify(p)+";",e.location.reload()):n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest]).then(i)}catch(e){s("USER_INPUT_FAILURE::用户输入失败")}}}var d=new o("",t.data);d.addEventListener("close",u,!1),e.addEventListener("message",c,!1),d.show()}))}}))}))}(window,window.lib||(window.lib={})),e.exports=window.lib.mtop},580:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ElectronMTop=void 0;const o=n(581);function i(e){return e&&"[object Promise]"===Object.prototype.toString.call(e)}class r{constructor(e){var t;this.formatters={"Max-Age":{key:"expirationDate",value:e=>(new Date).getTime()/1e3+parseInt(e,10)},Domain:{key:"domain",value:e=>e},Secure:{key:"secure",value:()=>!0}},this.urlFilters={urls:[]},this.saveHttpOnlyCookie=!0,this.cookieMap=new Map,this.domainFilterFn=null,this.cookiePropDesc=Object.getOwnPropertyDescriptor(Document.prototype,"cookie"),this.reqCount=0,this.originMTop=null===(t=null===window||void 0===window?void 0:window.lib)||void 0===t?void 0:t.mtop,this.rendererAPI=(0,o.getInstance)(e),this._init()}setConfig(e){void 0!==e.urlFilters&&(this.urlFilters=e.urlFilters),void 0!==e.domainFilterFn&&(this.domainFilterFn=e.domainFilterFn),void 0!==e.saveHttpOnlyCookie&&(this.saveHttpOnlyCookie=e.saveHttpOnlyCookie),void 0!==e.mockHost&&this.rendererAPI.addRequestOriginHeader(this.urlFilters,e.mockHost)}getOriginMTop(){return this.originMTop}getOriginLogin(){var e;return this.originLogin||(n(583),this.originLogin=null===(e=null===window||void 0===window?void 0:window.lib)||void 0===e?void 0:e.login,this.originLogin&&["isLogin","isLoginAsync"].forEach(e=>{const t=this.originLogin[e],n=this;this.originLogin[e]=function(...e){return n.runInHook(t.bind(this,...e))}})),this.originLogin}runInHook(e){this.reqCount++;try{const t=e();return i(t)?t.finally(()=>{this.reqCount--}):(this.reqCount--,t)}catch(e){this.reqCount--,console.warn("[ElectronMTop] runInHook throw error:",e)}}request(e,...t){this.reqCount++;try{const n=this.getOriginMTop().request(e,...t);return i(n)?n.finally(()=>{this.reqCount--}):(this.reqCount--,n)}catch(e){throw this.reqCount--,console.warn("[ElectronMTop] request throw error:",e),e}}_init(){this.getOriginMTop().config.dangerouslySetProtocol="https",this._hookDocumentCookie()}_hookDocumentCookie(){Object.defineProperty(document,"cookie",{get:()=>{let e=this._getOriginCookie();const t=this._getCookie();return";"!==e[e.length-1]&&(e+="; "),this.reqCount>0?e+t:e},set:e=>{this._setOriginCookie(e)}})}_getCookie(){let e="";const t=this.rendererAPI.defaultSessionCookiesGet(this.urlFilters);return null==t||t.forEach(t=>{this.domainFilterFn&&t.domain&&!this.domainFilterFn(t.domain)||(e+=`${t.name}=${t.value}; `)}),e}_setOriginCookie(e){return this.cookiePropDesc.set.call(document,e)}_getOriginCookie(){return this.cookiePropDesc.get.call(document)}}t.ElectronMTop=r,t.default=r},581:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInstance=void 0;const o=n(164);function i(e){function t(t,...n){return e(o.IPCChannel.CurrentSessionCookiesOpr,t,...n)}function n(t,...n){return e(o.IPCChannel.DefaultSessionCookiesOpr,t,...n)}return{currentSessionCookiesOpr:t,currentSessionCookiesGet:function(e){return t("get",e)},currentSessionCookiesSet:function(e){return t("set",e)},defaultSessionCookiesOpr:n,defaultSessionCookiesGet:function(e){return n("get",e)},defaultSessionCookiesSet:function(e){return n("set",e)},addRequestOriginHeader:function(t,n){return e(o.IPCChannel.AddRequestOriginHeader,t,n)}}}t.getInstance=(()=>{let e,t;return function(r){if(r===o.InstanceMode.Preload)return e||(e=i(window.electronMTop.sendSync)),e;if(r===o.InstanceMode.Remote){if(!t){const{ipcRenderer:e}=n(16);t=i(e.sendSync)}return t}throw Error("[ElectronMTop] getInstance type error: "+r)}})()},582:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(16),i=n(164);t.default=function(e){o.app.whenReady().then(()=>{const t=o.session.defaultSession.cookies;t.on("changed",(n,o,r,s)=>{if(o.session&&!s){if(e.filterDomain&&!e.filterDomain.test(o.domain||""))return;if(e.domainFilterFn&&o.domain&&!e.domainFilterFn(o.domain))return;let n="";o.domain&&/^\./.test(o.domain)&&(n="www");const r=`${o.secure?"https":"http"}://${n}${o.domain}${o.path}`;t.set({url:r,name:o.name,value:o.value,domain:o.domain,path:o.path,secure:o.secure,httpOnly:o.httpOnly,expirationDate:Math.floor((new Date).getTime()/1e3)+e.expandExpirationTime,sameSite:"no_restriction"}).catch(e=>console.error(`[ElectronMTop] MainPersistSessionCookies Error trying to persist cookie url: ${r} `,e,o)).then(()=>{(0,i.Log)(`[ElectronMTop] MainPersistSessionCookies resolve url: ${r} successfully.`)})}})})}},583:function(e,t,n){"use strict";n.r(t);var o=window.document,i=window.navigator.userAgent,r=location.hostname;function s(e){var t;try{t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(o.cookie)}catch(e){}return t?t[1]:void 0}function a(e,t){t?location.replace(e):location.href=e}var u,c=i.match(/AliApp\(([^/]+)\/([\d._]+)\)/i),d=i.match(/MicroMessenger/i),l="m",p="wapa",f="wapatest",g=new RegExp("([^.]*?)\\.?((?:"+["taobao.net","taobao.com"].join(")|(?:").replace(/\./g,"\\.")+"))","i"),m=r.match(g)||[],h=(m[2]||"taobao.com").match(/\.?taobao\.net$/)?"taobao.net":"taobao.com",v=(u=m[1]||l,"taobao.net"===h&&(u=f),u!==l&&u!==p&&u!==f&&(u=l),u),_=function(e,t,n){void 0===n&&(n="");var o=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&o.push(i+"="+encodeURIComponent(t[i]));var r=e;return r=/\?/.test(e)?e+"&"+o.join("&"):r+"?"+o.join("&"),n?r+"#"+n:r};function w(){return(w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var y,S=window.navigator.userAgent,O=/.+AliApp\((\w+)\/((?:\d+\.)+\d+)\)/.exec(S||"")||[],b=String(O[1]||"").toLowerCase(),R={xianyu:["fm"],cainiao:["cn"],taobao:["tb","tm"],jiaoyi_mao:["jym"],litetao:["lt","lt-lite"]},E={xianyu:{loginPrefix:"passport",bizDomainPrefix:"h5",bizSubDomain:"m",mainDomain:"goofish.com"},litetao:{loginPrefix:"passport",bizDomainPrefix:"pages",bizSubDomain:"",mainDomain:"ltao.com"}};!function(e){e.Login="login",e.Logout="logout",e.Oauth="oauth"}(y||(y={}));var C,x,T=function(e,t){e&&t&&(E[e]=t)},A=function(e){var t=E[e];return t||console.warn("[lib-login] site:"+e+" config is not defined, use lib.login.setSiteDomainConfig to set config"),t},k={xianyu:{api:"mtop.idle.user.simple",v:"1.0",data:{},ecode:1,sessionOption:"AutoLoginOnly",jsonpIncPrefix:"liblogin",dataType:"json"},taobao:{api:"mtop.user.getUserSimple",v:"1.0",data:{},ecode:1,sessionOption:"AutoLoginOnly",jsonpIncPrefix:"liblogin"}},N=function(e,t){return t?t===e:!!b&&(R[e]||[]).some((function(e){return e&&b.indexOf(e)>-1}))},L=function(e,t){if(void 0===e&&(e="taobao"),void 0===t&&(t="m"),"taobao"===e)return"https://login."+t+"."+h;var n=A(e);return"https://"+((null==n?void 0:n.loginPrefix)||"")+"."+((null==n?void 0:n.mainDomain)||"")},P=location,q=P.hostname,I=P.protocol;function M(e,t){var n,o,i=encodeURIComponent(I+"//"+q);return"taobao"===t.site?"//h5.m.taobao.com/other/"+e+"end.html?origin="+i:"//"+(n=t.site,(o=A(n)).bizDomainPrefix+"."+(null!=o&&o.bizSubDomain?o.bizSubDomain+".":"")+((null==o?void 0:o.mainDomain)||"")||"market.m.taobao.com")+"/app/vip/h5-webapp/lib-login-message.html?origin="+i}var D,j=window,J=j.document,F=j.dpr||1;function U(e){return e.preventDefault(),!1}!function(e){e.widgetFrame="widgetFrame",e.widgetTitle="widgetTitle",e.iframe="iframe",e.widgetClose="widgetClose"}(D||(D={}));var H=((C={})[D.widgetFrame]={"-webkit-transform":"scale("+F+") translateZ(0)","-ms-transform":"scale("+F+") translateZ(0)",transform:"scale("+F+") translateZ(0)","-webkit-transform-origin":"0 0","-ms-transform-origin":"0 0","transform-origin":"0 0","z-index":"999999",position:"fixed",left:"0",top:"0",right:"0",bottom:"0",background:"#FFF",display:"none"},C[D.widgetTitle]={width:"100%",height:"52px",background:"#EEE","line-height":"52px","text-align":"left","box-sizing":"border-box","padding-left":"20px",position:"absolute",left:"0",top:"0","font-size":"16px","font-weight":"bold",color:"#333"},C[D.iframe]={width:"100%",height:window.innerHeight/F+"px",border:"0",overflow:"hidden"},C[D.widgetClose]={display:"block",position:"absolute",right:"0",top:"0",height:"52px","line-height":"52px",padding:"0 20px",color:"#999"},C),W=((x={})[D.widgetFrame]={background:"rgba(90,90,90,0.3)",position:"fixed"},x[D.widgetTitle]={top:"calc(40vh - 52px)","padding-left":0,"box-shadow":"0px -2px 1px 0 rgb(180 180 180 / 20%)","border-radius":"12px 12px 0 0","background-color":"#fff","text-align":"center"},x[D.iframe]={height:"60vh","margin-top":"40vh","background-color":"#fff"},x[D.widgetClose]={"box-sizing":"content-box",width:"15px",height:"15px",padding:"18px 20px"},x),V=function(e,t){var n=H[e];if(!n)return"";t&&(n=Object.assign({},n,W[e]||{}));var o=[];for(var i in n)Object.hasOwnProperty.call(n,i)&&o.push(i+":"+n[i]);return o.join(";")},B=function(){function e(e,t){var n,o,i=this;void 0===e&&(e=""),void 0===t&&(t={useSemiLayer:!1}),this.text=void 0,this.url=void 0,this.widgetFrame=void 0,this.rect=void 0,this.text=(null==(n=t)?void 0:n.title)||"您需要登录才能继续访问",this.url=e,this.widgetFrame=document.createElement("div"),this.rect=document.documentElement.getBoundingClientRect();var r=null==(o=t)?void 0:o.useSemiLayer;this.widgetFrame.style.cssText=V(D.widgetFrame,r);var s=document.createElement("div");s.style.cssText=V(D.widgetTitle,r),s.innerText=this.text;var a=null;r?((a=document.createElement("img")).src="//gw.alicdn.com/imgextra/i2/O1CN01KQFA4M287q502xH3X_!!6000000007886-2-tps-52-54.png",this.url=this.url+(this.url.indexOf("?")?"&":"?")+"isSemiLayer=true"):(a=document.createElement("a")).innerText="关闭",a.style.cssText=V(D.widgetClose,r);var u=document.createElement("iframe");u.style.cssText=V(D.iframe,r),s.appendChild(a),this.widgetFrame.appendChild(s),this.widgetFrame.appendChild(u),J.body.appendChild(this.widgetFrame),u.src=this.url,a.addEventListener("click",(function(){i.hide();var e=J.createEvent("HTMLEvents");e.initEvent("close",!1,!1),i.widgetFrame.dispatchEvent(e)}),!1)}var t=e.prototype;return t.show=function(){document.addEventListener("touchmove",U,!1),this.widgetFrame.style.display="block",window.scrollTo(0,0)},t.hide=function(){document.removeEventListener("touchmove",U),window.scrollTo(0,-this.rect.top),J.body.removeChild(this.widgetFrame)},t.addEventListener=function(e,t,n){this.widgetFrame.addEventListener(e,t,n)},t.removeEventListener=function(e,t,n){this.widgetFrame.removeEventListener(e,t,n)},e}(),Y=["appid","appName","appEntrance"];function $(){return($=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}!function(e,t,n){var o=e.Promise;function i(n,o,i){var r=t.login.generateUrl(n,o);if(!e||!e.WindVane||!e.WindVane.isAvailable)return console.warn("WINDVANE_NOT_FOUND::缺少WindVane环境"),void a(r,o.replace);e.WindVane.call("aluUccJSBridge","uccTrustLogin",{site:o.site,scene:o.scene},(function(e){if(null!=e&&e.ret&&e.ret.indexOf("HY_SUCCESS")>-1)return i?void i("SUCCESS"):void a(o.redirectUrl||location.href,o.replace);i?i("FAILURE",JSON.stringify(e)):console.warn("[lib-login] FAILURE with "+JSON.stringify(e))}),(function(e){null!=e&&e.ret&&e.ret.indexOf("HY_NO_HANDLER")>-1?a(r,o.replace):i&&i("FAILURE",JSON.stringify(e))}))}function r(n,o,r){var s;"function"==typeof o?(r=o,o=null):"string"==typeof o?o={redirectUrl:o}:"object"==typeof o&&o.url&&(o.redirectUrl=o.url),o=o||{};var u=(null==t||null==(s=t.login)?void 0:s.config)||{},l=u.site||"taobao",p=u.scene||"",f=u.clientSite||"",g=u.disbleWidgetLogin||u.disableWidgetLogin;if(d&&u.enableWOAOauth){a(t.login.generateWOAOauthUrl({site:l}))}else{var m=t.login.generateUrl(n,$({site:l},o));if(c)return r&&o.forceNative&&N(l,f)?void function(n,o,i){e&&e.WindVane&&e.WindVane.isAvailable||console.warn("WINDVANE_NOT_FOUND::缺少WindVane环境"),e.WindVane.call("aluWVJSBridge","sdkLogin",o,(function(){i("SUCCESS")}),(function(e){var r=e&&e.ret;r&&"HY_FAILED"===r?i("CANCEL"):r&&r.indexOf("HY_")>-1?a(t.login.generateUrl(n,o),o.replace):i("CANCEL")}))}(n,$({site:l},o),r):N(l,f)||"taobao"===l?e.WindVane&&e.WindVane.isAvailable?void e.WindVane.call("MtopWVPlugin","isSupportAccountSite",{accountSite:l},(function(){N(l,f)?a(m,o.replace):i(n,$({site:l,scene:p},o),r)}),(function(){a(t.login.generateUrl(n,$({site:"taobao"},o)),o.replace)})):void a(m,o.replace):void i(n,$({site:l,scene:p},o),r);!r||n!==y.Login||g?a(m,o.replace):function(n,o,i){var r=M(n,o),s=t.login.generateUrl(n,$({redirectUrl:r,iframe:!0},o)),a=new B(s,$({},t.login.config.widgetConfig,{title:o.title}));function u(){a.removeEventListener("close",u),e.removeEventListener("message",c),i("CANCEL")}function c(t){var n=t.data||{};if(n&&n.type&&"child"===n.type)return n.content&&n.content.indexOf("SUCCESS")>-1?(a.removeEventListener("close",u),e.removeEventListener("message",c),a.hide(),void i("SUCCESS")):void i("FAILURE")}a.addEventListener("close",u,!1),e.addEventListener("message",c,!1),a.show()}(n,$({site:l},o),r)}}function u(e,t,n){var i;if(o&&((i={}).promise=new o((function(e,t){i.resolve=e,i.reject=t}))),r(e,t,(function(e){"function"==typeof n&&n(e),"SUCCESS"===e?i&&i.resolve(e):i&&i.reject(e)})),i)return i.promise}t.login=t.login||{},t.login.config={loginName:"login.htm",logoutName:"logout.htm",subDomain:v,forceNative:!0,disableWidgetLogin:!1,site:"",clientSite:"",enableWOAOauth:!1,oauthName:"oauth_sign.htm"},t.login.isLogin=function(e){var n,o=(null==t||null==(n=t.login)?void 0:n.config)||{};if(e&&"function"==typeof e&&t.mtop){var i=k.taobao,r=o.site;r&&k[r]&&(i=k[r]);var s=o.loginCheckMtopConf;return s&&s.api&&s.v&&(i=s),t.mtop.request(i,(function(n){n.retType===t.mtop.RESPONSE_TYPE.SUCCESS?e(!0,n):n.retType===t.mtop.RESPONSE_TYPE.SESSION_EXPIRED?e(!1,n):e(void 0,n)})),null}return!!this.getUserNick()},t.login.isLoginAsync=function(e){var t;if(o&&((t={}).promise=new o((function(e,n){t.resolve=e,t.reject=n}))),this.isLogin((function(n,o){e&&e(n,o),!0===n?t&&t.resolve(o):t&&t.reject(o)})),t)return t.promise},t.login.getUserNick=function(e){return e&&"function"==typeof e?(this.isLogin((function(t,n){var o,i,r=(null==n||null==(o=n.data)?void 0:o.displayNick)||(null==n||null==(i=n.data)?void 0:i.nick);e(!0===t&&r?r:!1===t?"":void 0)})),null):(t="",n=s("_w_tb_nick"),o=s("_nk_")||s("snk"),i=s("sn"),n&&n.length>0&&"null"!==n?t=decodeURIComponent(n):o&&o.length>0&&"null"!==o?t=unescape(unescape(o).replace(/\\u/g,"%u")):i&&i.length>0&&"null"!==i&&(t=decodeURIComponent(i)),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"));var t,n,o,i},t.login.getUserNickAsync=function(e){var t;if(o&&((t={}).promise=new o((function(e,n){t.resolve=e,t.reject=n}))),this.getUserNick((function(n){"function"==typeof e&&e(n),n?t&&t.resolve(n):t&&t.reject()})),t)return t.promise},t.login.generateUrl=function(e,n){var o=t.login.config,i=o.subDomain,r=o.loginName,s=void 0===r?"login.htm":r,a=o.logoutName,u=void 0===a?"logout.htm":a,c=L(n.site||"taobao",i),d=function(e){var t=e.site,n=void 0===t?"taobao":t,o=e.type,i=void 0===o?y.Login:o,r=e.originLoginPath,s=void 0===r?"login.htm":r,a=e.originLogoutPath,u=void 0===a?"logout.htm":a;return"taobao"===n?i===y.Logout?"/"+u:"/"+s:i===y.Logout?"/"+u:"login.htm"!==s?"/"+s:"/mini_"+s}({site:n.site||"taobao",originLoginPath:s,originLogoutPath:u,type:e}),l=function(e){var t=e.isFrame,n=void 0!==t&&t,o=e.site,i=void 0===o?"taobao":o,r=e.type,s=void 0===r?y.Login:r,a=e.redirectUrl,u=e.customParams,c=void 0===u?{}:u,d=a||location.href,l={taobao:w({ttid:n?"h5@iframe":"",redirectURL:d},c),siteLoginParams:w({ttid:n?"h5@iframe":"",redirectType:n?"iframeRedirect":"Redirect",returnUrl:d,appName:i,appEntrance:"web",isMobile:"true"},c),siteLogoutParams:w({toUrl:d},c)};return"taobao"===i?l.taobao:s===y.Login?l.siteLoginParams:l.siteLogoutParams}({site:n.site,isFrame:!!n.iframe,redirectUrl:n.redirectUrl,type:e,customParams:t.login.config.loginUrlParams||{}});return _(""+c+d,l)},t.login.generateWOAOauthUrl=function(e){var n=e.site,o=t.login.config,i=o.subDomain,r=o.oauthName,s=void 0===r?"oauth_sign.htm":r,a=o.WOAOauthConfig,u=void 0===a?{}:a,c=u.appid,d=u.appName,l=u.appEntrance,p=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(u,Y),f=L(n||"taobao",i),g=$({appName:d||"taobao",appEntrance:l||"wechat_h5",type:"weixin_official_accounts",responseAction:"redirect",mobile:!0,lang:"zh_CN",connect_redirect:1,return_url:location.href},p),m=_(f+"/"+s,g);return _("https://open.weixin.qq.com/connect/oauth2/authorize",{appid:c||"wx5eff1fd0bfa1bb53",scope:"snsapi_userinfo",response_type:"code",redirect_uri:m,connect_redirect:1},"wechat_redirect")},t.login.goLogin=function(e){r(y.Login,e,null)},t.login.goLoginAsync=function(e,n){return"boolean"==typeof e&&(n=e,e=null),void 0===n&&(n=t.login.config.forceNative),u(y.Login,{forceNative:n},e)},t.login.goLogout=function(e){r(y.Logout,e,null)},t.login.goLogoutAsync=function(e,t){return"boolean"==typeof e&&(t=e,e=null),u(y.Logout,{forceNative:t},e)},t.login.setSiteDomainConfig=T}(window,window.lib||(window.lib={}));t.default=window.lib.login}}]);